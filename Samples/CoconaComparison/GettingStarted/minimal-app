#!/usr/bin/dotnet --
// minimal-app - Nuru version of Cocona's GettingStarted.MinimalApp
#:project ../../../Source/TimeWarp.Nuru/TimeWarp.Nuru.csproj

using TimeWarp.Nuru;

// Simple CLI app demonstrating basic argument and option handling
var app = new NuruAppBuilder()
    .AddRoute("hello {name:string} --to-upper-case {toUpperCase:bool}", 
        (string name, bool toUpperCase) => 
        {
            Console.WriteLine($"Hello {(toUpperCase ? name.ToUpper() : name)}");
        },
        description: "Greets a person by name")
    
    // Help command - manual for now until auto-generation is implemented
    .AddRoute("hello --help", 
        () => Console.WriteLine(
            "Usage: minimal-app hello <name> [options]\n" +
            "\n" +
            "Arguments:\n" +
            "  name  The name to greet\n" +
            "\n" +
            "Options:\n" +
            "  --to-upper-case  Convert name to uppercase"))
    
    .Build();

return await app.RunAsync(args);